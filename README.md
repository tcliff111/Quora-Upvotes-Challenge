# Quora-Upvotes-Challenge
Submission to the Quora Upvotes Challenge

This is my submission to the Quora Upvotes Programming Challenge from a few months ago (https://www.quora.com/challenges#upvotes).  The solution passed the time-bounds of the challenge.

The main principle behind my solution is to avoid heavy calulations by only considering the differences between each window of the array.  We also keep track of clusters of boolean values in a nonDecreasingClusters ArrayList and a nonIncreasingClusters ArrayList.  A cluster, in my use of the term, is defined as the largest group of adjacent true boolean values for which there is no false boolean value in-between.  (So F T T T T F would be a cluster of size 4, but F T T F T T F would be two clusters of size 2.)  Both nonDecreasing and nonIncreasing clusters are considered because we eventually want to calulcate the net (number of nonDecreasing subranges - number of nonIncreasing subranges) for each window.

The value of a cluster of size N is that the number of subranges for that cluster can be easily calculated with the formula ((N+1)^2-(N+1))/2 (this is defined in the method fromClusterGetCount(long clusterSize)).  (This is also (N+1) Choose 2).  The addition of 1 to N is to account for the fact that we transfomed a set of data from size X to size X-1 when we turned the original data into the boolean arrays.  An example of this formula working is as follows.  Consider the nonDecreasing cluster [2, 3, 4].  The nonDecreasing cluster size N is 2 (true, true), so N+1=3.  The formula says we should get (3^2-3)/2 which is 3.  The actual nonDecreasing subranges are [2, 3], [3, 4], and [2, 3, 4].  So there are 3 subranges as the formula predicts.

So when we transition to a new window, we can simply check the entering and exiting boolean values of both the nonDecreasing and nonIncreasing boolean arrays.  If either of these values of either boolean array is false, then there is nothing to be done.  If either of them are true then we have a couple of different conditions on what can happen.  This mostly affects the cluster size of the entering or exiting cluster which can affect the number of subranges.  Thus, once we calculate this change of cluster size, we can simply subtract off the previous cluster sizes and add in the new cluster sizes to get the new number of nonDecreasing and nonIncreasing subranges rather than having to go through the entire window and calculate it for all of the clusters.  From this we can easily get the net value that we are looking for.
